CREATE TABLE IF NOT EXISTS USERS(id BIGSERIAL PRIMARY KEY, email VARCHAR(225) UNIQUE, password_hash VARCHAR(225) NOT NULL, first_name VARCHAR(100) NOT NULL, last_name VARCHAR(100), phone_number VARCHAR(15), status VARCHAR(20) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, update_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS ROLE(id BIGSERIAL PRIMARY KEY, role_name VARCHAR(50) NOT NULL, description TEXT);
CREATE TABLE IF NOT EXISTS USER_ROLE(user_id BIGINT,role_id BIGINT, PRIMARY KEY(user_id,role_id), FOREIGN KEY(user_id) REFERENCES USERS(id) ON DELETE CASCADE, FOREIGN KEY(role_id) REFERENCES ROLE(id) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS PASSWORD_RESET_TOKEN(id BIGSERIAL PRIMARY KEY, user_id BIGINT NOT NULL, token VARCHAR(255) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, expires_at TIMESTAMP NOT NULL,is_used BOOLEAN DEFAULT FALSE,FOREIGN KEY(user_id) REFERENCES USERS(id));